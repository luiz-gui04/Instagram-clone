{"version":3,"sources":["firebase.js","Header.js","Post.js","App.js","reportWebVitals.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","functions","Header","props","useState","progress","setProgress","file","setFile","fecharModalUpload","document","querySelector","style","display","useEffect","className","onClick","onSubmit","e","preventDefault","email","getElementById","value","username","senha","createUserWithEmailAndPassword","then","authUser","user","updateProfile","displayName","alert","catch","error","message","criarConta","action","id","type","placeholder","tituloPost","ref","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","child","getDownloadURL","url","collection","add","titulo","image","userName","timestamp","FieldValue","serverTimestamp","reset","uploadPost","onChange","target","files","href","src","alt","abrirModalUpload","signOut","val","setUser","window","location","deslogar","signInWithEmailAndPassword","err","logar","abrirModalCriarConta","Post","comentarios","setComentarios","doc","orderBy","onSnapshot","docs","map","info","data","nome","comentario","comentarioAtual","comentar","App","posts","setPosts","onAuthStateChanged","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7d2daacd.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n  apiKey: \"AIzaSyCuRo6FyNV1Ixp9Y8Nlpjt4mmg2SnAQvWs\",\r\n  authDomain: \"instagram-clone-webmaster.firebaseapp.com\",\r\n  projectId: \"instagram-clone-webmaster\",\r\n  storageBucket: \"instagram-clone-webmaster.appspot.com\",\r\n  messagingSenderId: \"397079541895\",\r\n  appId: \"1:397079541895:web:260c12c49f6a6948f9a022\",\r\n  measurementId: \"G-1JPRCJ8HGX\"\r\n});\r\n\r\nconst db = firebase.firestore();\r\nconst auth = firebase.auth();\r\nconst storage = firebase.storage();\r\nconst functions = firebase.functions();\r\n\r\nexport{db, auth, storage, functions};","import { useEffect, useState } from 'react';\r\nimport firebase from 'firebase';\r\nimport { auth, storage, db } from './firebase.js';\r\nfunction Header(props) {\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  const [file, setFile] = useState(null);\r\n\r\n  useEffect(() => {}, []);\r\n\r\n  function criarConta(e) {\r\n    e.preventDefault();\r\n    let email = document.getElementById('email-cadastro').value;\r\n    let username = document.getElementById('username-cadastro').value;\r\n    let senha = document.getElementById('senha-cadastro').value;\r\n\r\n    auth\r\n      .createUserWithEmailAndPassword(email, senha)\r\n      .then((authUser) => {\r\n        authUser.user.updateProfile({\r\n          displayName: username,\r\n        });\r\n        alert('Conta Criada');\r\n        let modal = document.querySelector('.modalCriarConta');\r\n        modal.style.display = 'none';\r\n      })\r\n      .catch((error) => {\r\n        alert(error.message);\r\n      });\r\n  }\r\n\r\n  function logar(e) {\r\n    e.preventDefault();\r\n\r\n    let email = document.getElementById('email-login').value;\r\n    let senha = document.getElementById('senha-login').value;\r\n\r\n    auth\r\n      .signInWithEmailAndPassword(email, senha)\r\n      .then((auth) => {\r\n        props.setUser(auth.user.displayName);\r\n        alert('logado com sucesso!');\r\n        window.location.href = '/';\r\n      })\r\n      .catch((err) => {\r\n        alert(err.message);\r\n      });\r\n  }\r\n\r\n  function abrirModalCriarConta(e) {\r\n    e.preventDefault();\r\n\r\n    let modal = document.querySelector('.modalCriarConta');\r\n    modal.style.display = 'block';\r\n  }\r\n\r\n  function abrirModalUpload(e) {\r\n    e.preventDefault();\r\n\r\n    let modal = document.querySelector('.modalUpload');\r\n    modal.style.display = 'block';\r\n  }\r\n\r\n  function fecharModalCriar() {\r\n    let modal = document.querySelector('.modalCriarConta');\r\n    modal.style.display = 'none';\r\n  }\r\n\r\n  function fecharModalUpload() {\r\n    let modal = document.querySelector('.modalUpload');\r\n    modal.style.display = 'none';\r\n  }\r\n\r\n  function deslogar(e) {\r\n    e.preventDefault();\r\n    auth.signOut().then(function (val) {\r\n      props.setUser(null);\r\n      window.location.href = '/';\r\n    });\r\n  }\r\n\r\n  function uploadPost(e) {\r\n    e.preventDefault();\r\n\r\n    let tituloPost = document.getElementById('titulo-upload').value;\r\n\r\n    const uploadTask = storage.ref(`images/${file.name}`).put(file);\r\n\r\n    uploadTask.on(\r\n      'state_changed',\r\n      function (snapshot) {\r\n        const progress =\r\n          Math.round(snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n        setProgress(progress);\r\n      },\r\n      function (error) {},\r\n      function () {\r\n        storage\r\n          .ref('images')\r\n          .child(file.name)\r\n          .getDownloadURL()\r\n          .then(function (url) {\r\n            db.collection('posts').add({\r\n              titulo: tituloPost,\r\n              image: url,\r\n              userName: props.user,\r\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n            });\r\n\r\n            setProgress(0);\r\n            setFile(null);\r\n            alert('upload Realizado');\r\n\r\n            document.getElementById('form-upload').reset();\r\n            fecharModalUpload();\r\n          });\r\n      },\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"center\">\r\n        <div className=\"modalCriarConta\">\r\n          <div className=\"formCriarConta\">\r\n            <div\r\n              onClick={() => fecharModalCriar()}\r\n              className=\"close-modal-criar\"\r\n            >\r\n              X\r\n            </div>\r\n            <h2>Criar Conta</h2>\r\n            <form onSubmit={(e) => criarConta(e)} action=\"\">\r\n              <input\r\n                id=\"email-cadastro\"\r\n                type=\"text\"\r\n                placeholder=\"Seu e-mail...\"\r\n              />\r\n              <input\r\n                id=\"username-cadastro\"\r\n                type=\"text\"\r\n                placeholder=\"Seu username...\"\r\n              />\r\n              <input\r\n                id=\"senha-cadastro\"\r\n                type=\"password\"\r\n                placeholder=\"Sua senha...\"\r\n              />\r\n              <input type=\"submit\" value=\"Criar Conta!\" />\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"modalUpload\">\r\n          <div className=\"formUpload\">\r\n            <div\r\n              onClick={() => fecharModalUpload()}\r\n              className=\"close-modal-criar\"\r\n            >\r\n              X\r\n            </div>\r\n            <h2>Fazer Upload</h2>\r\n            <form id=\"form-upload\" onSubmit={(e) => uploadPost(e)} action=\"\">\r\n              <progress id=\"progress-upload\" value={progress}></progress>\r\n              <input\r\n                id=\"titulo-upload\"\r\n                type=\"text\"\r\n                placeholder=\"Nome da sua foto...\"\r\n              />\r\n              <input\r\n                onChange={(e) => setFile(e.target.files[0])}\r\n                type=\"file\"\r\n                name=\"file\"\r\n              />\r\n              <input type=\"submit\" value=\"Postar!\" />\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"header__logo\">\r\n          <a href=\"\">\r\n            <img\r\n              src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\r\n              alt=\"\"\r\n            />\r\n          </a>\r\n        </div>\r\n        {props.user ? (\r\n          <div className=\"header__logadoInfo\">\r\n            <span>\r\n              Olá <b>{props.user}</b>\r\n            </span>\r\n            <a onClick={(e) => abrirModalUpload(e)} href=\"#\">\r\n              Postar!\r\n            </a>\r\n            <a onClick={(e) => deslogar(e)}>Deslogar</a>\r\n          </div>\r\n        ) : (\r\n          <div className=\"header__loginForm\">\r\n            <form onSubmit={(e) => logar(e)} action=\"\">\r\n              <input id=\"email-login\" type=\"text\" placeholder=\"Login...\" />\r\n              <input id=\"senha-login\" type=\"password\" placeholder=\"Senha...\" />\r\n              <input type=\"submit\" value=\"Logar!\" name=\"acao\" />\r\n            </form>\r\n            <div className=\"btn__criarConta\">\r\n              <a onClick={(e) => abrirModalCriarConta(e)} href=\"#\">\r\n                Criar Conta!\r\n              </a>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { db } from './firebase.js';\r\nimport { useEffect, useState } from 'react';\r\nimport firebase from 'firebase';\r\n\r\nfunction Post(props) {\r\n  const [comentarios, setComentarios] = useState([]);\r\n\r\n  useEffect(() => {\r\n    db.collection('posts')\r\n      .doc(props.id)\r\n      .collection('comentarios')\r\n      .orderBy('timestamp', 'desc')\r\n      .onSnapshot(function (snapshot) {\r\n        setComentarios(\r\n          snapshot.docs.map(function (document) {\r\n            return { id: document.id, info: document.data() };\r\n          }),\r\n        );\r\n      });\r\n  }, []);\r\n\r\n  function comentar(id, e) {\r\n    e.preventDefault();\r\n\r\n    let comentarioAtual = document.querySelector('#comentario-' + id).value;\r\n\r\n    db.collection('posts').doc(id).collection('comentarios').add({\r\n      nome: props.user,\r\n      comentario: comentarioAtual,\r\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n    alert('comentario feito com sucesso');\r\n\r\n    document.querySelector('#comentario-' + id).value = '';\r\n  }\r\n\r\n  return (\r\n    <div className=\"postSingle\">\r\n      <img src={props.info.image} />\r\n      <p>\r\n        <b>{props.info.userName}</b>: {props.info.titulo}\r\n      </p>\r\n\r\n      <div className=\"coments\">\r\n        <h2>Últimos Comentários</h2>\r\n        {comentarios.map(function (val) {\r\n          return (\r\n            <div className=\"coment-single\">\r\n              <p>\r\n                <b>{val.info.nome}</b>: {val.info.comentario}\r\n              </p>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {props.user ? (\r\n        <form onSubmit={(e) => comentar(props.id, e)}>\r\n          <textarea id={'comentario-' + props.id}></textarea>\r\n          <input type=\"submit\" value=\"Comentar!\" />\r\n        </form>\r\n      ) : (\r\n        <div></div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n","import './App.css';\nimport { db, auth } from './firebase.js';\nimport { useEffect, useState } from 'react';\nimport Header from './Header';\nimport Post from './Post';\n\nfunction App() {\n  const [user, setUser] = useState();\n\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    auth.onAuthStateChanged(function (val) {\n      if (val != null) {\n        setUser(val.displayName);\n      }\n    });\n\n    db.collection('posts')\n      .orderBy('timestamp', 'desc')\n      .onSnapshot(function (snapshot) {\n        setPosts(\n          snapshot.docs.map(function (document) {\n            return { id: document.id, info: document.data() };\n          }),\n        );\n      });\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Header setUser={setUser} user={user} />\n      {posts.map(function (val) {\n        return <Post user={user} info={val.info} id={val.id} />;\n      })}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}